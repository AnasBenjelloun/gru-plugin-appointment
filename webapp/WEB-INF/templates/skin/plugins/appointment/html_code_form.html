<div class="row">
	<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
		<div class="jumbotron">
			<div class="jumbotron-wrapper">
				<div class="jumbotron-content">
					<h1>
						${form.description!}
					</h1>
				</div>
			</div>
		</div>
	</div>
</div>

<div class="row calendar-row">
	<div class="layout-wrapper">	
	<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
	
	
		<form class="form-horizontal" role="form" id="form-validate" action="jsp/site/Portal.jsp" method="post" enctype="multipart/form-data">
			<input name="page" value="appointment" type="hidden">
			<input name="action" value="doValidateForm" type="hidden">
			<input name="id_form" value="${form.idForm}" type="hidden">
			<input name="session" value="session" type="hidden">
			<#if appointmentSlot?has_content>
			<input name="idSlot" value="${appointmentSlot}" type="hidden">
			</#if>
			<fieldset>
				<legend>
					<#if form.displayTitleFo && form.title != "" >
						${form.title}
					<#else>
						#i18n{appointment.appointmentApp.defaultTitle}
					</#if>
				</legend>
				
				<br>
				<#if form_errors??>
					<#assign hasDisplayableError = false>
					<#list form_errors as form_error>
						<#if form_error.isDisplayableError>
							<#assign hasDisplayableError = true>
							<#break >
						</#if>
					</#list>
					<#if hasDisplayableError>
						
							<#list form_errors as form_error>	
																	
								<#if form_error.isDisplayableError && form_error.errorMessage==listAllErrors[8] >
									<div class="alert alert-error alert-danger">
										<p>
										  	${form_error.errorMessage}
										</p>
									</div>
								</#if>	
							</#list>
						
					</#if>
				</#if>
				<br>				
				<div class="form-group">
					<label class="col-xs-12 col-sm-12 col-md-12 col-lg-12" for="lastname">${form_messages.fieldLastNameTitle!} *</label>
					<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
						<input type="text" class="form-control" value="<#if appointment??>${appointment.lastName!}</#if>" maxlength="255" id="lastname" name="lastname">
						<#if form_messages.fieldLastNameHelp?? && form_messages.fieldLastNameHelp != ''>
							<span class="help-block">${form_messages.fieldLastNameHelp}</span>
						</#if>
					</div>
				</div>
				<#if form_errors??>
					<#assign hasDisplayableError = false>
					<#list form_errors as form_error>
						<#if form_error.isDisplayableError>
							<#assign hasDisplayableError = true>
							<#break >
						</#if>
					</#list>
					<#if hasDisplayableError>
						
							<#list form_errors as form_error>	
																	
								<#if form_error.isDisplayableError && form_error.errorMessage==listAllErrors[0]>
									<div class="alert alert-error alert-danger">
										<p>
										  	${form_error.errorMessage}
										</p>
									</div>
								</#if>	
							</#list>
						
					</#if>
					</#if>
				<div class="form-group">
					<label class="col-xs-12 col-sm-12 col-md-12 col-lg-12" for="firstname">${form_messages.fieldFirstNameTitle!} *</label>
					<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
						<input type="text" class="form-control" value="<#if appointment??>${appointment.firstName!}</#if>" maxlength="255" id="firstname" name="firstname">
						<#if form_messages.fieldFirstNameHelp?? && form_messages.fieldFirstNameHelp != ''>
							<span class="help-block">${form_messages.fieldFirstNameHelp}</span>
						</#if>
					</div>
				</div>
				<#if form_errors??>
					<#assign hasDisplayableError = false>
					<#list form_errors as form_error>
						<#if form_error.isDisplayableError>
							<#assign hasDisplayableError = true>
							<#break >
						</#if>
					</#list>
					<#if hasDisplayableError>
						
							<#list form_errors as form_error>	
																	
								<#if form_error.isDisplayableError && form_error.errorMessage==listAllErrors[1]>
									<div class="alert alert-error alert-danger">
										<p>
										  	${form_error.errorMessage}
										</p>
									</div>
								</#if>	
							</#list>
						
					</#if>
				</#if>
				<div class="form-group">
					<label class="col-xs-12 col-sm-12 col-md-12 col-lg-12" for="email">${form_messages.fieldEmailTitle!} <#if form.enableMandatoryEmail>*</#if></label>
					<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
						<input type="text" class="form-control" value="<#if appointment??>${appointment.email!}</#if>" maxlength="255" id="email" name="email">
						<#if form_messages.fieldEmailHelp?? && form_messages.fieldEmailHelp != ''>
							<span class="help-block">${form_messages.fieldEmailHelp}</span>
						</#if>
					</div>
				</div>
				<#if form_errors??>
					<#assign hasDisplayableError = false>
					<#list form_errors as form_error>
						<#if form_error.isDisplayableError>
							<#assign hasDisplayableError = true>
							<#break >
						</#if>
					</#list>
					<#if hasDisplayableError>
						
							<#list form_errors as form_error>	
																	
								<#if form_error.isDisplayableError && (form_error.errorMessage==listAllErrors[2] || form_error.errorMessage==listAllErrors[3])>
								<div class="alert alert-error alert-danger">
									<p>
									  	${form_error.errorMessage}
									</p>
								</div>
								</#if>	
							</#list>
						
					</#if>
				</#if>
				<#if form.enableConfirmEmail>
				<div class="form-group">
					<label class="col-xs-12 col-sm-12 col-md-12 col-lg-12" for="emailConfirm">${form_messages.fieldConfirmationEmail!} <#if form.enableMandatoryEmail>*</#if></label>
					<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
						<input type="text" value="" maxlength="255" id="emailConfirm" name="emailConfirm" class="form-control">
						<#if form_messages.fieldConfirmationEmail?? && form_messages.fieldConfirmationEmailHelp != ''>
							<span class="help-block">${form_messages.fieldConfirmationEmailHelp!}</span>
						</#if>
					</div>
				</div>
				<#if form_errors??>
					<#assign hasDisplayableError = false>
					<#list form_errors as form_error>
						<#if form_error.isDisplayableError>
							<#assign hasDisplayableError = true>
							<#break >
						</#if>
					</#list>
					<#if hasDisplayableError>
							<#list form_errors as form_error>										
								<#if form_error.isDisplayableError && (form_error.errorMessage == listAllErrors[4] || form_error.errorMessage == listAllErrors[5] )>
									<div class="alert alert-error alert-danger">
										<p>
										  	${form_error.errorMessage} 
										</p>
									</div>
								</#if>	
							</#list>
					</#if>
				</#if>
				</#if>
				<#if form.maxPeoplePerAppointment &gt; 1>
				<div class="form-group">
					<label class="col-xs-12 col-sm-12 col-md-12 col-lg-12"for="numberPlacesReserved">#i18n{appointment.create_appointmentform.labelNumberOfBookedseatsPerAppointment}*</label>
					<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
						<input type="number"  maxlength="3" id="numberPlacesReserved" name="numberPlacesReserved" class="form-control" >
							<#if nbplaces != 0 >
								<span class="help-block">${nbplaces!} places maximum</span>
							</#if>
					</div>
				</div>

				</#if>
				<#if form_errors??>
					<#assign hasDisplayableError = false>
					<#list form_errors as form_error>
						<#if form_error.isDisplayableError>
							<#assign hasDisplayableError = true>
							<#break >
						</#if>
					</#list>
					<#if hasDisplayableError>
						
							<#list form_errors as form_error>	
																	
								<#if form_error.isDisplayableError && (form_error.errorMessage==listAllErrors[6] || form_error.errorMessage == listAllErrors[7]) >
									<div class="alert alert-error alert-danger">
										<p>
										  	${form_error.errorMessage}
										</p>
									</div>
								</#if>	
							</#list>
						
					</#if>
					</#if>

				${str_entry}
				 <div class="form-group">
					<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
					<button class="btn btn-primary btn-sm" type="submit" name="save" >
						<i class="glyphicon glyphicon-ok"></i><span class="hidden-xs">&nbsp;#i18n{appointment.display_appointment_form.labelValidate}</span>
					</button>
					<button type="reset" name="reset" class="btn btn-primary btn-sm">
						<i class="glyphicon glyphicon-refresh"></i><span class="hidden-xs">&nbsp;#i18n{appointment.display_appointment_form.labelReset}</span>
					</button>
					<#if !isFormFirstStep>
						<a class="btn btn-sm btn-primary" href="jsp/site/Portal.jsp?page=appointment&view=getAppointmentFormFirstStep&id_form=${form.idForm}">
							<i class="glyphicon glyphicon-remove-circle"></i><span class="hidden-xs">&nbsp;#i18n{portal.util.labelBack}</span>
						</a>
					</#if>
					</div>
				</div>
			</fieldset>
		</form>
	</div>
	</div>
</div>
