<#include "/admin/util/editor/editor.html" />
<div class="row-fluid">
	<div class="span12">
		<fieldset>
		<legend>#i18n{appointment.modifyEntry.titleQuestion} : '${form.title}'</legend>
			<form class="form-horizontal" action="jsp/admin/plugins/appointment/ManageAppointmentFormEntries.jsp" method="post" name="" id=""  >
				<input name="id_entry" value="${entry.idEntry}" type="hidden" />
				<input name="action" value="doModifyEntry" type="hidden" />
				<div class="control-group">
					<label class="control-label" for="title">#i18n{appointment.createEntry.labelTitle} * </label>
					<div class="controls">
						<input type="text" name="title" id="title" value="${entry.title}"  maxlength="255" />
						<span class="help-block">#i18n{appointment.createEntry.labelTitleComment}</span>
					</div>
				</div>
				<div class="control-group">
					<label class="control-label" for="help_message">#i18n{appointment.createEntry.labelHelpMessage} </label>
					<div class="controls">
						<textarea  name="help_message" id="help_message" rows="2" class="span4">${entry.helpMessage}</textarea>
						<span class="help-block">#i18n{appointment.createEntry.labelHelpMessageComment}</span>
					</div>
				</div>
				<div class="control-group">
					<label class="control-label" for="comment"> #i18n{appointment.createEntry.labelComment} </label>
					<div class="controls">
						<textarea name="comment" class="span4" rows="2">${entry.comment}</textarea>
					</div>
				</div>
				<div class="control-group">
					<label class="control-label" for="">#i18n{appointment.createEntry.labelType} : ${entry.entryType.title}</label>
					<#list entry.fields as field>
						<div class="controls">							<label for="value">#i18n{appointment.createEntry.labelValueDefault} </label>
							<input type="text" name="value" id="value" value="${field.value}"/>
						</div>
					</#list>
				</div>
				<div class="control-group">
					<label class="control-label" for="">&nbsp;</label>
					<div class="controls">
						<label class="checkbox" for="mandatory">
							<input name="mandatory" value="1" type="checkbox" <#if entry.mandatory>checked="checked" </#if> />
							&nbsp;#i18n{appointment.createEntry.labelMandatory}
						</label>
					</div>
				</div>
				<div class="control-group">
					<label class="control-label" for="errorMessage"> #i18n{appointment.createEntry.labelMandatoryErrorMessage} : </label>
					<div class="controls">
						<textarea name="errorMessage" class="input-xlarge" rows="2">${entry.errorMessage!}</textarea>
						<span class="help-block">#i18n{appointment.createEntry.labelMandatoryErrorMessageHelp}</span>
					</div>
				</div>
				<div class="control-group">
				<label class="control-label" for="width">#i18n{appointment.createEntry.labelWidth} * : </label>
					<#list entry.fields as field>
					<div class="controls">
						<input  type="text" name="width" id="width" value="${field.width}" />
					</div>
					<#assign id_field=field.idField> 
					</#list>
				</div>
				<div class="control-group">
				<label class="control-label" for="max_size_enter">#i18n{appointment.createEntry.labelMaxSizeEnter} : </label>
					<div class="controls">
					<#list entry.fields as field>
						<#if field.maxSizeEnter!=-1>
							<input type="text" name="max_size_enter" id="max_size_enter" size="5" value="${field.maxSizeEnter}" />
						<#else>
							<input type="text" name="max_size_enter" id="max_size_enter" size="5" value="" />
						</#if>	
					</div>
				</div>
				</#list>	
				
				<div class="control-group">
				<label class="control-label" for="">&nbsp; </label>
					<div class="controls">
						<label class="checkbox" for="confirm_field">
							<input name="confirm_field" id="confirm_field" value="1" type="checkbox" onchange="javascript:changeVisilityConfirmFieldTitle();" <#if entry.confirmField> 	checked="checked"</#if>/>
							#i18n{appointment.createEntry.labelConfirmField}
						</label>
					</div>
				</div>
				<div class="control-group">
					<label class="control-label" for="confirm_field_title">#i18n{appointment.createEntry.labelConfirmFieldTitle} *</label>
					 <div class="controls">
						<input type="text" name="confirm_field_title" id="confirm_field_title" value="${entry.confirmFieldTitle!}"  maxlength="255" />
					</div>
				</div>
				<div class="control-group">
				<label class="control-label" for="css_class">#i18n{appointment.createEntry.labelCSSClass} : </label>
					<div class="controls">
						<input type="text" name="css_class" value="${entry.CSSClass!}" maxlength="255" class="span3" />
						<span class="help-block">#i18n{appointment.createEntry.labelCSSClassComment}</span>
					</div>
				</div>
				<div class="form-actions">
					<button class="btn btn-primary btn-small" name="save" type="submit">
						<i class="icon-ok icon-white"></i>&nbsp;#i18n{appointment.modifyEntry.buttonSave}
					</button>
					<button class="btn btn-primary btn-small" name="apply" type="submit">
						<i class="icon-ok-circle icon-white"></i>&nbsp;#i18n{appointment.modifyEntry.buttonApply}
					</button>
					<button class="btn btn-small" type="submit" name="cancel" value="cancel" >
						<i class="icon-remove-circle"></i>&nbsp;#i18n{appointment.createEntry.buttonCancel}
					</button>
				</div>
			</form>
		</fieldset>
	</div>
</div>
<script type="text/javascript">
function changeVisilityConfirmFieldTitle(){
if(document.getElementById("confirm_field").checked){
		document.getElementById("confirm_field_title_p").style.display = 'block';
	} else {
		document.getElementById("confirm_field_title_p").style.display = 'none';
	}
} 
changeVisilityConfirmFieldTitle();
</script>
<@initEditor />